bitN = 0b10000000
bitV = 0b01000000

bitB = 0b00010000
bitD = 0b00001000
bitI = 0b00000100
bitZ = 0b00000010
bitC = 0b00000001

# CMD[opcode] = (command name, addressing mode)
CMD = {
    0x69: ('ADC', '#'),
    0x65: ('ADC', 'zpg'),
    0x75: ('ADC', 'zpg,x'),
    0x6D: ('ADC', 'abs'),
    0x7D: ('ADC', 'abs,x'),
    0x79: ('ADC', 'abs,y'),
    0x61: ('ADC', 'x,ind'),
    0x71: ('ADC', 'ind,y'),
    0x29: ('AND', '#'),
    0x25: ('AND', 'zpg'),
    0x35: ('AND', 'zpg,x'),
    0x2D: ('AND', 'abs'),
    0x3D: ('AND', 'abs,x'),
    0x39: ('AND', 'abs,y'),
    0x21: ('AND', 'x,ind'),
    0x31: ('AND', 'ind,y'),
    0x0A: ('ASL', 'A'),
    0x06: ('ASL', 'zpg'),
    0x16: ('ASL', 'zpg,x'),
    0x0E: ('ASL', 'abs'),
    0x1E: ('ASL', 'abs,x'),
    0x90: ('BCC', 'rel'),
    0xB0: ('BCS', 'rel'),
    0xF0: ('BEQ', 'rel'),
    0x24: ('BIT', 'zpg'),
    0x2C: ('BIT', 'abs'),
    0x30: ('BMI', 'rel'),
    0xD0: ('BNE', 'rel'),
    0x10: ('BPL', 'rel'),
    0x00: ('BRK', 'impl'),
    0x50: ('BVC', 'rel'),
    0x70: ('BVS', 'rel'),
    0x18: ('CLC', 'impl'),
    0xD8: ('CLD', 'impl'),
    0x58: ('CLI', 'impl'),
    0xB8: ('CLV', 'impl'),
    0xC9: ('CMP', '#'),
    0xC5: ('CMP', 'zpg'),
    0xD5: ('CMP', 'zpg,x'),
    0xCD: ('CMP', 'abs'),
    0xDD: ('CMP', 'abs,x'),
    0xD9: ('CMP', 'abs,y'),
    0xC1: ('CMP', 'x,ind'),
    0xD1: ('CMP', 'ind,y'),
    0xE0: ('CPX', '#'),
    0xE4: ('CPX', 'zpg'),
    0xEC: ('CPX', 'abs'),
    0xC0: ('CPY', '#'),
    0xC4: ('CPY', 'zpg'),
    0xCC: ('CPY', 'abs'),
    0xC6: ('DEC', 'zpg'),
    0xD6: ('DEC', 'zpg,x'),
    0xCE: ('DEC', 'abs'),
    0xDE: ('DEC', 'abs,x'),
    0xCA: ('DEX', 'impl'),
    0x88: ('DEY', 'impl'),
    0x49: ('EOR', '#'),
    0x45: ('EOR', 'zpg'),
    0x55: ('EOR', 'zpg,x'),
    0x4D: ('EOR', 'abs'),
    0x5D: ('EOR', 'abs,x'),
    0x59: ('EOR', 'abs,y'),
    0x41: ('EOR', 'x,ind'),
    0x51: ('EOR', 'ind,y'),
    0xE6: ('INC', 'zpg'),
    0xF6: ('INC', 'zpg,x'),
    0xEE: ('INC', 'abs'),
    0xFE: ('INC', 'abs,x'),
    0xE8: ('INX', 'impl'),
    0xC8: ('INY', 'impl'),
    0x4C: ('JMP', 'abs'),
    0x6C: ('JMP', 'ind'),
    0x20: ('JSR', 'abs'),
    0xA9: ('LDA', '#'),
    0xA5: ('LDA', 'zpg'),
    0xB5: ('LDA', 'zpg,x'),
    0xAD: ('LDA', 'abs'),
    0xBD: ('LDA', 'abs,x'),
    0xB9: ('LDA', 'abs,y'),
    0xA1: ('LDA', 'x,ind'),
    0xB1: ('LDA', 'ind,y'),
    0xA2: ('LDX', '#'),
    0xA6: ('LDX', 'zpg'),
    0xB6: ('LDX', 'zpg,y'),
    0xAE: ('LDX', 'abs'),
    0xBE: ('LDX', 'abs,y'),
    0xA0: ('LDY', '#'),
    0xA4: ('LDY', 'zpg'),
    0xB4: ('LDY', 'zpg,x'),
    0xAC: ('LDY', 'abs'),
    0xBC: ('LDY', 'abs,x'),
    0x4A: ('LSR', 'A'),
    0x46: ('LSR', 'zpg'),
    0x56: ('LSR', 'zpg,x'),
    0x4E: ('LSR', 'abs'),
    0x5E: ('LSR', 'abs,x'),
    0xEA: ('NOP', 'impl'),
    0x09: ('ORA', '#'),
    0x05: ('ORA', 'zpg'),
    0x15: ('ORA', 'zpg,x'),
    0x0D: ('ORA', 'abs'),
    0x1D: ('ORA', 'abs,x'),
    0x19: ('ORA', 'abs,y'),
    0x01: ('ORA', 'x,ind'),
    0x11: ('ORA', 'ind,y'),
    0x48: ('PHA', 'impl'),
    0x08: ('PHP', 'impl'),
    0x68: ('PLA', 'impl'),
    0x28: ('PLP', 'impl'),
    0x2A: ('ROL', 'A'),
    0x26: ('ROL', 'zpg'),
    0x36: ('ROL', 'zpg,x'),
    0x2E: ('ROL', 'abs'),
    0x3E: ('ROL', 'abs,x'),
    0x6A: ('ROR', 'A'),
    0x66: ('ROR', 'zpg'),
    0x76: ('ROR', 'zpg,x'),
    0x6E: ('ROR', 'abs'),
    0x7E: ('ROR', 'abs,x'),
    0x40: ('RTI', 'impl'),
    0x60: ('RTS', 'impl'),
    0xE9: ('SBC', '#'),
    0xE5: ('SBC', 'zpg'),
    0xF5: ('SBC', 'zpg,x'),
    0xED: ('SBC', 'abs'),
    0xFD: ('SBC', 'abs,x'),
    0xF9: ('SBC', 'abs,y'),
    0xE1: ('SBC', 'x,ind'),
    0xF1: ('SBC', 'ind,y'),
    0x38: ('SEC', 'impl'),
    0xF8: ('SED', 'impl'),
    0x78: ('SEI', 'impl'),
    0x85: ('STA', 'zpg'),
    0x95: ('STA', 'zpg,x'),
    0x8D: ('STA', 'abs'),
    0x9D: ('STA', 'abs,x'),
    0x99: ('STA', 'abs,y'),
    0x81: ('STA', 'x,ind'),
    0x91: ('STA', 'ind,y'),
    0x86: ('STX', 'zpg'),
    0x96: ('STX', 'zpg,y'),
    0x8E: ('STX', 'abs'),
    0x84: ('STY', 'zpg'),
    0x94: ('STY', 'zpg,x'),
    0x8C: ('STY', 'abs'),
    0xAA: ('TAX', 'impl'),
    0xA8: ('TAY', 'impl'),
    0xBA: ('TSX', 'impl'),
    0x8A: ('TXA', 'impl'),
    0x9A: ('TXS', 'impl'),
    0x98: ('TYA', 'impl')
}